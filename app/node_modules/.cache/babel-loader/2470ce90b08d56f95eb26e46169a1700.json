{"ast":null,"code":"var _jsxFileName = \"/home/amit/Projects/github/Progress-Tracker/src/components/Login.Component.js\";\nimport React, { Component } from 'react'; //Logo\n\nimport logo from '../assets/img/logo.png';\nimport _ from 'lodash';\nimport AxiosApi from '../utils/axios.config';\nimport Etc from '../utils/etc';\nimport { Link } from \"react-router-dom\";\nconst initialState = {\n  username: '',\n  password: '',\n  userErr: ' ',\n  passErr: ' '\n};\n\nclass LoginComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.validator = () => {\n      let userErr = '';\n      let passErr = '';\n\n      if (_.isEmpty(this.state.username)) {\n        userErr = 'Username is empty';\n      } else if (_.isEmpty(this.state.password)) {\n        passErr = 'Password is empty';\n      }\n\n      if (userErr) {\n        this.setState({\n          userErr\n        });\n        return false;\n      } else if (passErr) {\n        this.setState({\n          passErr\n        });\n        return false;\n      }\n\n      return true;\n    };\n\n    this.onSubmit = event => {\n      event.preventDefault();\n      const isValid = this.validator();\n      const details = {\n        UserName: this.state.username,\n        Password: this.state.password\n      };\n\n      if (isValid) {\n        AxiosApi.post('auth/login', details).then(response => {\n          let res = Etc.convertToString(response);\n          localStorage.setItem('userToken', res.data.token);\n          localStorage.setItem('auth', res.data.auth);\n          this.props.history.push('/home');\n        }).catch(error => {\n          if (error) {\n            alert('Sorry your login details are not correct');\n          }\n        });\n        this.setState(initialState);\n      }\n    };\n\n    this.state = initialState;\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"login-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container block__container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-4 block__section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      className: \"login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      placeholder: \"Username...\",\n      name: \"username\",\n      onChange: this.onChange,\n      value: this.state.username,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"password\",\n      placeholder: \"Password...\",\n      name: \"password\",\n      onChange: this.onChange,\n      value: this.state.password,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-danger form-control btn-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \" Login\"), React.createElement(Link, {\n      to: \"/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Create a new account\")))), React.createElement(\"div\", {\n      className: \"col-md-8 login-block-side\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login-block-side__img-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: logo,\n      alt: \"logo.png\",\n      className: \"rounded-circle img-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"login-block-side__title-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Welcome\"))))));\n  }\n\n}\n\nexport default LoginComponent;","map":{"version":3,"sources":["/home/amit/Projects/github/Progress-Tracker/src/components/Login.Component.js"],"names":["React","Component","logo","_","AxiosApi","Etc","Link","initialState","username","password","userErr","passErr","LoginComponent","constructor","props","onChange","event","setState","target","name","value","validator","isEmpty","state","onSubmit","preventDefault","isValid","details","UserName","Password","post","then","response","res","convertToString","localStorage","setItem","data","token","auth","history","push","catch","error","alert","bind","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\n\n//Logo\nimport logo from '../assets/img/logo.png';\n\nimport _ from 'lodash';\nimport AxiosApi from '../utils/axios.config';\nimport Etc from '../utils/etc';\nimport {\n    Link,\n} from \"react-router-dom\";\n\nconst initialState = {\n    username: '',\n    password: '',\n    userErr: ' ',\n    passErr: ' ',\n\n};\n\nclass LoginComponent extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = initialState;\n\n        this.onChange = this.onChange.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n    }\n\n    onChange = (event) => {\n        this.setState({[event.target.name]: event.target.value});\n    };\n\n    validator = () => {\n        let userErr = '';\n        let passErr = '';\n\n        if (_.isEmpty(this.state.username)) {\n            userErr = 'Username is empty'\n        } else if (_.isEmpty(this.state.password)) {\n            passErr = 'Password is empty'\n        }\n\n        if (userErr) {\n            this.setState({\n                userErr\n            });\n            return false;\n        } else if (passErr) {\n            this.setState({\n                passErr\n            });\n\n            return false;\n        }\n        return true;\n\n    };\n\n    onSubmit = (event) => {\n        event.preventDefault();\n\n        const isValid = this.validator();\n        const details = {\n            UserName: this.state.username,\n            Password: this.state.password\n        };\n\n\n        if (isValid) {\n            AxiosApi.post('auth/login', details)\n                .then(response => {\n                    let res = Etc.convertToString(response);\n                    localStorage.setItem('userToken', res.data.token);\n                    localStorage.setItem('auth', res.data.auth);\n                    this.props.history.push('/home');\n                })\n                .catch(error => {\n                    if (error) {\n                        alert('Sorry your login details are not correct');\n                    }\n                });\n            this.setState(initialState);\n        }\n\n    };\n\n\n    render() {\n        return (\n            <div className='login-block'>\n\n                <div className='container block__container'>\n                    <div className='row'>\n\n                        <div className='col-md-4 block__section'>\n                            <h2>Login</h2>\n                            <form onSubmit={this.onSubmit} className='login-form'>\n                                <div className='form-group'>\n                                    <input\n                                        className='form-control'\n                                        type='text'\n                                        placeholder='Username...'\n                                        name='username'\n                                        onChange={this.onChange}\n                                        value={this.state.username}\n                                        required\n                                    />\n                                </div>\n\n                                <div className='form-group'>\n                                    <input\n                                        className='form-control'\n                                        type='password'\n                                        placeholder='Password...'\n                                        name='password'\n                                        onChange={this.onChange}\n                                        value={this.state.password}\n                                        required\n                                    />\n                                </div>\n                                <div className='form-group'>\n                                    <button type='submit' className='btn btn-danger form-control btn-login'> Login\n                                    </button>\n                                    <Link to='/register'>\n                                        Create a new account\n                                    </Link>\n                                </div>\n\n                            </form>\n\n                        </div>\n\n                        <div className='col-md-8 login-block-side'>\n                            <div className='login-block-side__img-block'>\n                                <img src={logo} alt=\"logo.png\" className='rounded-circle img-block'/>\n                            </div>\n                            <div className='login-block-side__title-block'>\n                                <h4>Welcome</h4>\n                            </div>\n\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n\n        )\n    }\n}\n\nexport default LoginComponent;"]},"metadata":{},"sourceType":"module"}